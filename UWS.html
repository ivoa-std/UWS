<?xml version="1.0" encoding="ISO-8859-1"?><!-- $Id:$ 
Universal Worker Service WD 
Note that this file should be xhtml with div to mark sections so that it can be updated with xslt.
Paul Harrison -->

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" profile="http://www.w3.org/1999/xhtml/vocab"><title>Universal Worker Service Specification</title><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<meta name="Title" content="IVOA WG Internal Draft"/>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<meta name="author" content="Paul Harrison, paul.harrison@manchester.ac.uk"/>
<meta name="maintainedBy" content="Paul Harrison, paul.harrison@manchester.ac.uk"/>
<link href="http://www.ivoa.net/misc/ivoa_a.css" rel="stylesheet" type="text/css"/>
<link rel="stylesheet" href="http://www.ivoa.net/misc/ivoa_pr.css" type="text/css"/>
<link href="./ivoadoc/XMLPrint.css" rel="stylesheet" type="text/css"/>
<link href="./ivoadoc/ivoa-extras.css" rel="stylesheet" type="text/css"/>
</head>
<body bgcolor="#FFFFFF">
<div class="head">
<table style="width: 337.5pt;" border="0" cellpadding="0" cellspacing="0" width="563">
<tbody><tr>
 <td style="padding: 0cm;">
 <p class="MsoNormal">
<span style="color: black;">
<img src="http://www.ivoa.net/pub/images/IVOA_wb_300.jpg" height="169" width="300"/></span></p></td>
 <td style="padding: 0cm;">
 <p><b><i><span style="font-size: 14pt; color: rgb(0, 90, 156);">&nbsp;I</span></i></b><i><span style="font-size: 14pt; color: rgb(0, 90, 156);">nternational</span></i></p>
 <p><b><i><span style="font-size: 14pt; color: rgb(0, 90, 156);">&nbsp;&nbsp;&nbsp; V</span></i></b><i><span style="font-size: 14pt; color: rgb(0, 90, 156);">irtual</span></i></p>
 <p><b><i><span style="font-size: 14pt; color: rgb(0, 90, 156);">&nbsp; &nbsp;&nbsp;O</span></i></b><i><span style="font-size: 14pt; color: rgb(0, 90, 156);">bservatory</span></i></p>
 <p><b><i><span style="font-size: 14pt; color: rgb(0, 90, 156);">A</span></i></b><i><span style="font-size: 14pt; color: rgb(0, 90, 156);">lliance</span><span style="color: black;">
</span></i></p></td>
</tr>
</tbody></table>
<h1>Universal Worker Service<br clear="none"/>
  Version 1.0</h1>
<h2>IVOA Proposed Recommendation 2009-09-09</h2>
<dl>
  <dt>Working Group:</dt><dd><a href="http://www.ivoa.net/twiki/bin/view/IVOA/IvoaGridAndWebServices" shape="rect">http://www.ivoa.net/twiki/bin/view/IVOA/IvoaGridAndWebServices</a></dd><dt><b>This version:</b></dt>
  <dd><a href="http://www.ivoa.net/Documents/PR/GWS/PR-UWS-1.0-20090909.html">http://www.ivoa.net/Documents/PR/GWS/PR-UWS-1.0-2009-09-09.html</a></dd><dt><b>Latest version:</b></dt><dd><a href="http://www.ivoa.net/Documents/latest/UWS.html">http://www.ivoa.net/Documents/latest/UWS.html</a></dd><dt><b>Previous version(s):</b></dt><dd> Internal Working Draft
      v0.1, 2005-01-24
      <br />
      Internal Working Draft
      v0.2, 2006-05-11 <br />
      Internal
      Working Draft v0.3, 2007-04-26<br />  
      Internal
      Working Draft v0.4,  2008-05-10<br />
      Internal Working Draft v0.5, 2008-10-08<br />
      Internal Working Draft v0.9, 2009-10-08<br />
      Public Working Draft v1.0, 2009-08-27<br />
  </dd>
  <dt>&nbsp;</dt>
    <dt>&nbsp;</dt>
    <dt>&nbsp;</dt>
    <dt>&nbsp;  </dt>
    <dt><b>Author(s):</b></dt><dd>  P. 
    Harrison, G. Rixon</dd>
</dl>

<h2>Abstract</h2>
<p>The Universal Worker Service (UWS) pattern
  defines how to manage asynchronous execution of jobs on a
  service. Any application of the pattern defines a family of related
  services with a common service contract. Possible uses of the pattern are also described.</p>
<h2> Status of This Document</h2>
<p>This is a working draft of
  the GWS-WG. The first release of this document was on 2005-01-24
  within the working group</p>
<p>This is an IVOA Proposed Recommendation made available for public review. 
Comments on this document should be posted at the RFC page <a href="http://www.ivoa.net/cgi-bin/twiki/bin/view/IVOA/UWSV1RFC">http://www.ivoa.net/cgi-bin/twiki/bin/view/IVOA/UWSV1RFC</a> or can be sent to the Grid and Web Services Working Group via <a href="mailto:grid@ivoa.net">grid@ivoa.net</a>.</p>
<p> <em>A list of </em><span style="background: transparent"><a href="http://www.ivoa.net/Documents/" shape="rect"><i>current
  IVOA Recommendations and other technical documents</i></a></span><em> can be found at http://www.ivoa.net/Documents/.</em></p>
<h2 class="prologue-heading-western">Acknowledgements</h2>
<p>The need for the UWS pattern was
  inspired by AstroGrid&#8217;s Common Execution Architecture and
  particularly by discussions with Noel Winstanley. The ideas about
  statefulness are distilled from debates in the Global Grid Forum in
  respect of the Open Grid Services Infrastructure that was the
  fore-runner of Web Services Resource Framework. The REST binding came
  initially from suggestions by Norman Gray.</p>
</div>
<h2>Contents</h2>
<div>
  <div id="toc" class="toc">
    <ul>
      <li><a href="#Introduction"><span class="secnum">1. </span>Introduction</a>
          <ul>
            <li><a href="#SynchronousStateless"><span class="secnum">1.1. </span> Synchronous, stateless services</a></li>
            <li><a href="#IVOOutGrow"><span class="secnum">1.2. </span> Some IVO activities that outgrow synchronous, stateless services</a></li>
            <li><a href="#AsynchronousServices"><span class="secnum">1.3. </span> Asynchronous and stateful services</a></li>
            <li><a href="#JDL"><span class="secnum">1.4. </span> Job description language, service contracts and universality</a></li>
          </ul>
      </li>
      <li><a href="#UWSpattern"><span class="secnum">2. </span> Universal Worker Service Pattern</a>
          <ul>
            <li><a href="#UWSObjects"><span class="secnum">2.1. </span> Objects within a UWS</a>
                <ul>
                  <li><a href="#Joblist"><span class="secnum">2.1.1. </span> Job list </a></li>
                  <li><a href="#Job"><span class="secnum">2.1.2. </span>Job</a></li>
                  <li><a href="#ExecutionPhase"><span class="secnum">2.1.3. </span> Execution Phase</a></li>
                  <li><a href="#ExecutionDuration"><span class="secnum">2.1.4. </span> Execution Duration</a></li>
                  <li><a href="#DestructionTime"><span class="secnum">2.1.5. </span> Destruction Time</a></li>
                  <li><a href="#Quote"><span class="secnum">2.1.6. </span>Quote</a></li>
                  <li><a href="#Error"><span class="secnum">2.1.7. </span>Error</a></li>
                  <li><a href="#Error2"><span class="secnum">2.1.8. </span>Owner</a></li>
                  <li><a href="#Error3"><span class="secnum">2.1.9. </span>RunId</a></li>
                  <li><a href="#ResultsList"><span class="secnum">2.1.10. </span>Results List</a></li>
                  <li><a href="#ResultsList2"><span class="secnum">2.1.11. </span>Parameter List</a></li>
                </ul>
            </li>
            <li><a href="#RESTbinding"><span class="secnum">2.2. </span>The REST Binding</a>
                <ul>
                  <li><a href="#d1e834"><span class="secnum">2.2.1. </span>Resources and URIs</a></li>
                  <li><a href="#d1e603"><span class="secnum">2.2.2. </span>Representations of resources</a>
                      <ul>
                        <li><a href="#d1e1030"><span class="secnum">2.2.2.1. </span>Job List</a></li>
                        <li><a href="#d1e1040"><span class="secnum">2.2.2.2. </span>Job</a></li>
                        <li><a href="#d1e1344"><span class="secnum">2.2.2.3. </span>Results List</a></li>
                        <li><a href="#d1e1353"><span class="secnum">2.2.2.4. </span>Parameters List</a></li>
                      </ul>
                  </li>
                  <li><a href="#d1e634"><span class="secnum">2.2.3. </span>State changing requests</a>
                      <ul>
                        <li><a href="#d1e1375"><span class="secnum">2.2.3.1. </span>Creating a Job</a></li>
                        <li><a href="#d1e1390"><span class="secnum">2.2.3.2. </span>Deleting a Job</a></li>
                        <li><a href="#d1e1402"><span class="secnum">2.2.3.3. </span>Changing the Destruction
                          Time</a></li>
                        <li><a href="#d1e1420"><span class="secnum">2.2.3.4. </span>Changing the Execution
                          Duration</a></li>
                        <li><a href="#d1e1439"><span class="secnum">2.2.3.5. </span> Starting a Job</a></li>
                        <li><a href="#d1e1448"><span class="secnum">2.2.3.6. </span>Aborting a Job</a></li>
                      </ul>
                  </li>
                  <li><a href="#d1e708"><span class="secnum">2.2.4. </span>Message pattern</a></li>
                </ul>
            </li>
          </ul>
      </li>
      <li><a href="#security"><span class="secnum">3. </span>Security Considerations</a></li>
      <li><a href="#ApplicationsOfUWS"><span class="secnum">4. </span> Applications of UWS (informative)</a>
          <ul>
            <li><a href="#Imageservice"><span class="secnum">4.1. </span> Image service with data staging</a></li>
            <li><a href="#ADQLservice"><span class="secnum">4.2. </span> ADQL service with cursor</a></li>
            <li><a href="#ParameterizedApplications"><span class="secnum">4.3. </span> Parameterized applications</a></li>
          </ul>
      </li>
      <li><a href="#SynchronousService"><span class="secnum">5. </span> Implementing a Synchronous Service on top of UWS (informative)</a></li>
      <li><a href="#Updates"><span class="secnum">Appendix A. </span> Updates from previous versions</a>
          <ul>
            <li><a href="#d1e1112"><span class="secnum">Appendix A.1. </span>At Version 0.5</a></li>
            <li><a href="#d1e1775"><span class="secnum">Appendix A.2. </span>At Version 1.0</a></li>
          </ul>
      </li>
      <li><a href="#UWSSchema"><span class="secnum">Appendix B. </span> UWS Schema</a></li>
    </ul>
  </div>
</div>
<div class="body">
<div class="section"><h2><a name="Introduction" id="Introduction" shape="rect"/><span class="secnum">1. </span>Introduction</h2>
  <p>The Universal Worker Service (UWS)
    pattern defines how to build <i>asynchronous</i>, <i>stateful</i>, <i>job-oriented</i> services<i> </i>(the italicized terms are defined
    in sub-sections of this introduction). It does so in a way that
    allows for wide-scale reuse of software and support from software
    toolkits.</p>
  <p>Section <h:span xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" class="xref"><a href="#UWSpattern">2. </a></h:span> 
  of this document describes
    the pattern and lists the aspects that are common to all its
    applications. Any such application would involve a service contract
    that embodies the pattern and fixes the issues left undefined in the
    pattern itself (see section <a href="#JDL">1.4</a>). The contract might include the XML schemata  which form a &quot;job description language&quot; or JDL for the application, or simply a description of the input parameters for the service which are conveyed via typical HTML form encodings. It is intended that each such contract
    cover a family of related applications, such that the implementations
    may be widely reused.</p> 
  <p>Section <a href="#security">3</a> outlines several possible
    applications of the pattern. These use-cases may be expanded into
    full IVOA standards that are siblings of the current document.</p>
  <p>Section <a href="#ApplicationsOfUWS">4</a> describes the preferred
    method of creating a synchronous facade to a UWS system.</p>
  <div class="section"><h3><a name="SynchronousStateless" id="SynchronousStateless" shape="rect"/><span class="secnum">1.1. </span> Synchronous, stateless services</h3>
    <p>Simple web services are <i>synchronous</i> and <i>stateless</i>. Synchronous means that the client waits for
      each request to be fulfilled; if the client disconnects from the
      service then the activity is abandoned. <i>Stateless</i> means that
      the service does not remember results of a previous activity (or, at
      least, the client cannot ask the service about them).</p>
    <p>Synchronous, stateless services work
      well when two criteria apply.</p>
    <ol><li>
        <p>The length of each activity is
          less than the &#8220;attention span&#8221; of the connection.</p>
      </li><li>
        <p>The results of each activity are
          compact enough to be easily passed back to the client via the
          connection on which the request was made (and possibly pushed back
          to the service as parameters of the next activity).</p>
      </li></ol>
    <p>There are various limits to the
      attention span.</p>
    <ul><li>
        <p>HTTP assumes that the start of a
          reply quickly follows its request, even if the body of the reply
          takes a long time to stream. If the service takes too long to
          compute the results and to start the reply, then HTTP times out at
          the request is lost.</p>
      </li><li>
        <p>A client runs on a computer which
          will not stay on-line indefinitely.</p>
      </li><li>
        <p>A network with finite
          reliability will eventually break communications during an activity.</p>
      </li><li>
        <p>A service is sometimes shut down
          for maintenance.</p>
      </li></ul>
    <p>Synchronous, stateless services, in
      short, do not scale well.</p>
  </div>
  <div class="section"><h3><a name="IVOOutGrow" id="IVOOutGrow" shape="rect"/><span class="secnum">1.2. </span> Some IVO activities that outgrow synchronous, stateless services</h3>
    <p>These cases are examples. They are
      not a complete list!</p>
    <ol><li>
        <p>An ADQL <cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:std:adql">std:adql</a>]
    </cite> service gives access
          to a large object-catalogue. Most queries run in less than a minute,
          but some legitimate queries involve a full-table traverse and take
          hours or days. The service needs to run these special cases in a
          low-priority queue.</p>
      </li><li>
        <p>An object-finding service runs
          the SExtractor <cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:sextractor">sextractor</a>]
    </cite> application on a list of images. Normally, the list
          is short and the request is quickly satisfied. Occasionally, a list
          of 10,000 images is sent in the expectation that the work will be
          finished over the weekend.</p>
      </li><li>
        <p>A cone-search <cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:std:scs">std:scs</a>]
    </cite> request on a
          rich catalogue raises 10,000,000 rows of results, but the client is
          connected via a slow link and cannot read all the results in a
          reasonable time. The client needs the service to send the results
          into storage over a faster link. This could mean sending them to
          VOSpace, or simply holding them temporarily until the user can
          retrieve them on a fast link.</p>
      </li><li>
        <p>An ADQL service allows users to
          save query results into new tables such that they can be the target
          of later queries. However, space is limited and the results tables
          can only be kept for a short time. The client and service negotiate
          the lifetime of the results tables.</p>
      </li><li>
        <p>A service performs image
          stacking on a list of fields. Each field can be processed by a
          synchronous service but the list is long and the user wants to
          retrieve the results of the early fields before the last fields are
          processed.</p>
      </li></ol>
  </div>
  <div class="section"><h3><a name="AsynchronousServices" id="AsynchronousServices" shape="rect"/><span class="secnum">1.3. </span> Asynchronous and stateful services</h3>
    <p>Services can be made to scale better
      by making them <i>asynchronous</i> and <i>stateful</i>. Asynchronous
      means that a client makes two or more separate requests to the
      service in the course of one activity, and that the client and
      service may be disconnected, possibly for days or more, in between
      those requests. Stateful means that the service stores state
      information about the activity and the client addresses requests to
      this state.</p>
    <p>Web services that are asynchronous
      are almost always stateful. Most of special extra arrangements for
      asynchronous activities are actually managing the state of the
      activity.</p>
    <p>There is an important class of
      stateful services where the state is peculiar to one job or session
      and the job is &#8220;owned&#8221; by one user. These, for the purpose of
      this document, are called <i>job-oriented</i> services. There are
      stateful services that are not job-oriented (e.g. a service managing
      a shared, client-writeable DB table), but UWS does not apply to
      these.</p>
    <p>For the purpose of this discussion,
      let the term <i>job</i> refer to the work specified by the JDL
      instructions and the term <i>resource</i> refer to the state of the
      job as recorded by the service. Both have a finite duration. The <i>lifetime</i> of the resource &#8211; i.e. the time from inception
      until the service forgets the state &#8211; is generally finite and must
      be at least as long the duration of the job.</p>
  </div>
  <div class="section"><h3><a name="JDL" id="JDL" shape="rect"/><span class="secnum">1.4. </span> Job description language, service contracts and universality</h3>
    <p>Consider the web-service operation
      that starts off a job. This operation must express what is to be done
      in the activity: it must carry parameters in some form.</p>
    <p>The parameters may be expressed as a
      list. E.g., a cone search service takes a list of three parameters:
      RA, DEC, RADIUS. Alternatively, the parameters may be arranged as an
      XML document (e.g. ADQL, CEA). The rules for setting and arranging
      the parameters for a job are called the<i> Job-Description Language </i>(JDL).</p>
    <p>The combination of the UWS pattern, a
      JDL and details of the job state visible to the client defines a
      service contract. Changing the JDL changes the contract. Thus, it is not
      meaningful to &#8220;implement UWS&#8221; in isolation; any implementation
      standard must specify the rest of the contract.</p>
    <p>If the JDL is very general, a single
      service-contract can be reused for many kinds of service. AstroGrid&#8217;s
      CEA <cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:harrison05">harrison05</a>]
    </cite>exploits this: one JDL covers all services offering parameterized
      applications and even ADQL services. In the limit, a
      sufficiently-general JDL turns a specialized worker service into a
      universal worker service.</p>
  </div>
</div>
  <div class="section"><h2><a name="UWSpattern" id="UWSpattern" shape="rect"/><span class="secnum">2. </span> Universal Worker Service Pattern</h2>
    <div class="section"><h3><a name="UWSObjects" id="UWSObjects" shape="rect"/><span class="secnum">2.1. </span> Objects within a UWS</h3>
      <p>A UWS consists logically in a set of
        objects that may be read and written to in order to control jobs. In a REST binding, these objects are represented as distinct web-resources each with its own URI.</p>
      <p> The following sub-sections explain the semantics of the objects. The
        UML diagram below shows the relationships more succinctly.</p>
      <p><img src="Class_Diagram__UWS__UWSObjects.png" alt="UWS Objects Class Diagram" name="graphics2" width="460" height="390" border="0" align="top" id="graphics2"/></p>
      <div class="section"><h4><a name="Joblist" id="Joblist" shape="rect"/><span class="secnum">2.1.1. </span>
        Job list </h4>
        <p>The Job List is the outermost object:
          it contains all the other objects in the UWS. The immediate children
          of the job list are Job objects (see next sub-section).</p>
        <p>The job list may be read to find the
          extant jobs.</p>
        <p>The job list may be updated to add a
          new job.</p>
        <p>The job list itself does not allow
          jobs to be deleted. Instead, when a job is destroyed by an action on
          its job object, then the list updates itself accordingly.</p>
      </div>
      <div class="section"><h4><a name="Job" id="Job" shape="rect"/><span class="secnum">2.1.2. </span>Job</h4>
        <p>A Job object contains the state of
          one job. The state is a collection of other objects. Each Job
          aggregates</p>
        <ul><li>
            <p>Exactly one Execution Phase.</p>
        </li><li>
          <p>Exactly one Execution Duration.</p>
        </li><li>
          <p>Exactly one Deletion Time</p>
        </li><li>
          <p>Exactly one Quote.</p>
        </li><li>
          <p>Exactly one Results List.</p>
        </li><li>
          <p>Zero or one Error.</p>
        </li></ul>
      </div>
      <div class="section"><h4><a name="ExecutionPhase" id="ExecutionPhase" shape="rect"/><span class="secnum">2.1.3. </span> Execution Phase</h4>
        <p>The job is treated as a state machine
          with the Execution Phase naming the state. The phases are;</p>
        <ul><li>
            <p>PENDING: the job is accepted by
              the service but not yet committed for execution by the client. In
              this state, the job quote can be read and evaluated. This is the
              state into which a job enters when it is first created.</p>
        </li><li>
          <p>QUEUED: the job is committed for
            execution by the client but the service has not yet assigned it to a
            processor. No Results are produced in this phase.</p>
        </li><li>
          <p>EXECUTING: the job has been
            assigned to a processor. Results may be produced at any time during
            this phase.</p>
        </li><li>
          <p>COMPLETED: the execution of the
            job is over. The Results may be collected.</p>
        </li><li>
          <p>ERROR: the job failed to
            complete. No further work will be done nor Results produced. Results
            may be unavailable or available but invalid; either way the Results
            should not be trusted.</p>
        </li><li>
          <p>ABORTED: the job has been
            manually aborted by the user, or the system has aborted the job due
            to lack of or overuse of resources.</p>
        </li></ul>
      </div>
      <div class="section"><h4><a name="ExecutionDuration" id="ExecutionDuration" shape="rect"/><span class="secnum">2.1.4. </span> Execution Duration</h4>
        <p>An Execution Duration object defines
          the duration for which a job shall run.  This represents the
          &#8220;computation time&#8221; that a job is to be allowed, although because
          a specific measure of CPU time may not be available in all
          environments, this duration is defined in real clock seconds. An
          execution duration of 0 implies unlimited execution duration.</p>
        <p>When the execution duration has been
          exceeded the service should automatically abort the job, which has the
          same effect as when a manual &#8220;Abort&#8221; is requested.</p>
        <p>Specifically, when a job is aborted:</p>
        <ul><li>
            <p>if the job is still executing,
              the execution is aborted.</p>
        </li><li>
          <p>any previously generated results
            of the job are retained.</p>
        </li></ul>
        <p>When a job is created, the service
          sets the initial execution duration. The client may write to an
          Execution Duration to try to change the job's cpu time allocation.
          The service may forbid changes, or may set limits on the allowed
          execution duration.</p>
      </div>
      <div class="section"><h4><a name="DestructionTime" id="DestructionTime" shape="rect"/><span class="secnum">2.1.5. </span> Destruction Time</h4>
        <p>The Destruction Time object
          represents the instant when the job shall be destroyed. The
          Destruction Time is an absolute time.</p>
        <p>Destroying a job implies;</p>
        <ul><li>
            <p>if the job is still executing,
              the execution is aborted.</p>
        </li><li>
          <p>any results from the job are
            destroyed and storage reclaimed.</p>
        </li>
        <li>
            <p>the service forgets that
              the job existed.</p>
        </li></ul>
        <p>The Destruction Time should be viewed as
          a measure of the amount of time that a service is prepared to
          allocate storage for a job &#8211; typically this will be a longer
          duration that the amount of CPU time that a service would allocate.</p>
        <p>When a job is created the service
          sets the initial Destruction Time. The client may write to the
          Destruction Time to try to change the life expectancy of the job. The
          service may forbid changes, or may set limits on the allowed
          destruction time.</p>
      </div>
      <div class="section"><h4><a name="Quote" id="Quote" shape="rect"/><span class="secnum">2.1.6. </span>Quote</h4>
        <p>A Quote object predicts when the job
          is likely to complete. The intention is that a client creates the
          same job on several services, compares the quotes and then accepts
          the best quote.</p>
        <p>Quoting for a computational job is
          notoriously difficult. A UWS implementation must always provide a
          quote object, in order that the two-phase committal of jobs be
          uniform across all UWS, but it may supply a &#8220;don't know&#8221; answer
          for the completion time.</p>
      </div>
      <div class="section"><h4><a name="Error" id="Error" shape="rect"/><span class="secnum">2.1.7. </span>Error</h4>
        <p>The error object gives a human-readable error message for the underlying job. This object
          is intended to be a detailed error message, and consequently might be
          a large piece of text such as a stack trace. When there is an error
          running a job, a summary of the error should also be given using the
          optional errorSummary element of the  Job object.</p>
      </div>
      <div class="section"><h4><a name="Error" id="Error2" shape="rect"/><span class="secnum">2.1.8. </span>Owner</h4>
        <p>The owner object represents the identifier for the creator of the job. This object will not exist for all invocations of a UWS conformant protocol, but only in cases where the access to the service is authenticated as discussed more thoroughly in section 
          <h:span xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" class="xref"><a href="#security">3. </a></h:span>. </p>
      </div>
      <div class="section"><h4><a name="Error" id="Error3" shape="rect"/><span class="secnum">2.1.9. </span>RunId</h4>
        <p>The RunId object represents an identifier that the job creator uses to identify the job. Note that this is distinct from the Job Identifier that the UWS system itself assigns to each job. The UWS system should do no parsing or processing of the RunId, but merely pass back the value (if it exists) as it was passed to the UWS at job creation time. In particular it may be the case that multiple jobs have the same RunId, as this is a mechanism by which the calling process can identify jobs that belong to a particular group. The exact mechanism of setting the RunId is not specified here, but will be part of the specification of the protocol using the UWS pattern.</p>
      </div>
      <div class="section"><h4><a name="ResultsList" id="ResultsList" shape="rect"/><span class="secnum">2.1.10. </span>Results List</h4>
        <p>The Results List object is a
          container for formal results of the job. Its children may be any
          objects resulting from the computation that may be fetched from the
          service when the job has completed.</p>
        <p>Reading the Results List itself
          enumerates the available or expected result objects.</p>
        <p>The children of the Results List may
          be read but not updated or deleted. The client cannot add anything
          to the Results List.</p>
      </div>
      <div class="section"><h4><a name="ResultsList" id="ResultsList2" shape="rect"/><span class="secnum">2.1.11. </span>Parameter List</h4>
        <p>Reading the Parameter List itself
          enumerates the Job parameters. The form that the parameters take will depend on the JDL of the implementing service - for instance if the JDL is expressed as a single XML document, then there would be a single &quot;parameter&quot; that was that XML document. For services where the JDL consists of a list of name/value pairs, then these would naturally be expressed in the parameter list.</p>
        <p>A particular implementation of UWS may choose to allow the parameters to be updated after the initial job creation step, before the Phase is set to the executing state. It is up to the individual implementation to specify exactly how these parameters may be updated, but good practice would be to choose one of the following options.</p>
        <ol>
          <li>HTTP POST an <i>application/x-www-form-urlencoded</i><b> </b>parameter name, value pair to either
            <ol>
              <li>/{jobs}/{job-id)</li>
              <li>/{jobs}/{job-id)/parameters</li>
            </ol>
          </li>
          <li>HTTP PUT the parameter value to /{jobs}/{job-id)/parameters/(parameter-name)</li>
        </ol>
      </div>
    </div>
    <div class="section"><h3><a name="RESTbinding" id="RESTbinding" shape="rect"/><span class="secnum">2.2. </span>The REST Binding</h3>
      <p>In order to create a usable service the objects discussed in the section above must be exposed in a particular interface which can be addressed over a particular transport mechanism - this combination is known as a &quot;binding&quot;. In this first version of the UWS pattern only a REST (Representational State
      Transfer) style binding <cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:fielding00">fielding00</a>]
    </cite>is presented, however, future versions of this document will add other bindings such as SOAP. <cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:std:soap">std:soap</a>]
    </cite></p>
     
      <div class="section"><h4><a name="d1e834" id="d1e834"/><span class="secnum">2.2.1. </span>Resources and URIs</h4>
        <p>In a REST (Representational State
          Transfer) binding of UWS, each of the objects defined above is
          available as a web resource with its own URI. These URIs must form a
          hierarchy as shown in the table below:</p>
        <table border="1" cellpadding="2" cellspacing="0">
          <tr>
            <th scope="col">URI</th>
            <th scope="col">Description</th>
            <th scope="col">Representation</th>
          </tr>
          <tr>
            <td>/{jobs}</td>
            <td>the Job List</td>
            <td> the <span class="xmlelement">&lt;jobs&gt;</span> element in the UWS schema</td>
          </tr>
          <tr>
            <td>/{jobs}/(job-id)</td>
            <td>a Job</td>
            <td><p>the <span class="xmlelement">&lt;job&gt;</span> element in the UWS schema<br/>
            </p></td>
          </tr>
          <tr>
            <td>/{jobs}/(job-id)/phase</td>
            <td> the Phase of job
          (job-id)</td>
            <td>one of the fixed strings</td>
          </tr>
          <tr>
            <td>/{jobs}/(job-id)/executionduration</td>
            <td>the
          maximum execution duration of (job-id)</td>
            <td>Integer number of seconds</td>
          </tr>
          <tr>
            <td>/{jobs}/(job-id)/destruction</td>
            <td> the
          destruction instant for (job-id)</td>
            <td><cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:std:iso8601">std:iso8601</a>]
    </cite></td>
          </tr>
          <tr>
            <td>/{jobs}/(job-id)/error</td>
            <td>any error
          message associated with (job-id)</td>
            <td>any representation appropriate to the implementing service</td>
          </tr>
          <tr>
            <td>/{jobs}/(job-id)/quote </td>
            <td>the Quote for
          (job-id)</td>
            <td>Integer number of seconds</td>
          </tr>
          <tr>
            <td>/{jobs}/(job-id)/results</td>
            <td>any parameters for the job 
          (job-id)</td>
            <td>the <span class="xmlelement">&lt;results&gt;</span> element in the UWS schema</td>
          </tr>
          <tr>
            <td>/{jobs}/(job-id)/parameters</td>
            <td>any parameters for the job 
          (job-id)</td>
            <td>the <span class="xmlelement">&lt;parameters&gt;</span> element in the UWS schema</td>
          </tr>
          <tr>
            <td>/{jobs}/(job-id)/owner</td>
            <td>the owner of the job (job-id)</td>
            <td>and appropriate identifier as discussed in <h:span xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" class="xref"><a href="#security">3. </a></h:span></td>
          </tr>
        </table>
        <p>The service implementer is free to
          choose the names given in parentheses above, i.e. the root of the URI tree, and the form that the job identifier takes (though note that it should be a legal URI path element) - the other names are part
          of the UWS standard.</p>
        <p>The URI for the Job List, in its
          absolute form is the root URI for the whole UWS. This URI should be
          given as the access URL in the UWS registration.</p>
      </div>
      <div class="section"><h4><a name="d1e603" id="d1e603" shape="rect"/><span class="secnum">2.2.2. </span>Representations of resources</h4>
        <p>For each of the resources HTTP GET
          fetches a representation. In general where an object is a container for other objects then an XML representation of the object is returned, otherwise for simple atomic types a textual representation is returned. The XML schema for the various objects described above is
          detailed in <h:span xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" class="xref"><a href="#UWSSchema">Appendix B. </a></h:span> of this specification. This schema is the definitive description of the exact form of the XML returned by a UWS and should not vary between implementations.</p>
        <p>HTTP allows multiple representations
          of a resource distinguished by their MIME types and selected by the
          HTTP &quot;Accept&quot; headers of a GET request. UWS exploits this to support both web
          browsers and rich clients in the same tree of resources. Although the default behaviour is to return XML, a UWS should return HTML or XHTML to
          clients that accept these types. These clients are assumed to be web
          browsers and the UWS is generating its own user interface. The HTML
          interface generated should allow full control of the UWS via the use
        of HTML forms and appropriate links.</p>
        <p>Clients which are assumed to be part
          of remote applications that drive UWS without showing the details to
          their users should accept only &quot;application/xml&quot;. A UWS must therefore
          return XML representations of the resources in preference to the HTML representation. A technique that may be used to always return XML that modern browsers can transform on the client-side to HTML is via the <span class="xmlelement">&lt;?xml-stylesheet ?&gt;</span> processing instruction, which can be used to point to a suitable XSL resource to perform the transformation.</p>
        <p> More detail for some of the UWS objects is provided below;</p>
        <div class="section"><h4><a name="d1e1030" id="d1e1030"/><span class="secnum">2.2.2.1. </span>Job List</h4>
          <p>The representation of the Job List is
            a list of links to extant jobs. The list may be empty if the UWS is
            idle.</p>
        </div>
        <div class="section"><h4><a name="d1e1040" id="d1e1040"/><span class="secnum">2.2.2.2. </span>Job</h4>
          <p>The representation of a Job is as specified by the <span class="xmlelement">&lt;job&gt;</span> element in the UWS schema as detailed in <h:span xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" class="xref"></h:span>
          an example or such a job instance is shown below</p>
          <div><?incxml href="../UWSJobInstance.xml" ?><div xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" class="viewxml"><div class="element"><span class="markup">&lt;</span><span class="start-tag">uws:job</span> <span class="attribute-name">xsi:schemaLocation</span><span class="markup">=</span><span class="attribute-value">&quot;http://www.ivoa.net/xml/UWS/v1.0rc3 UWS.xsd &quot;</span> <span class="attribute-name">xlmns:xml</span><span class="markup">=</span><span class="attribute-value">&quot;http://www.w3.org/XML/1998/namespace&quot;</span> <span class="attribute-name">xlmns:uws</span><span class="markup">=</span><span class="attribute-value">&quot;http://www.ivoa.net/xml/UWS/v1.0rc3&quot;</span> <span class="attribute-name">xlmns:xlink</span><span class="markup">=</span><span class="attribute-value">&quot;http://www.w3.org/1999/xlink&quot;</span> <span class="attribute-name">xlmns:xsi</span><span class="markup">=</span><span class="attribute-value">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:jobId</span><span class="markup">&gt;</span><span class="text">cea-agdevel.jb.man.ac.uk-130.88.24.18-1242749568029-508182314</span><span class="markup">&lt;/</span><span class="end-tag">uws:jobId</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:ownerId</span> <span class="attribute-name">xsi:nil</span><span class="markup">=</span><span class="attribute-value">&quot;true&quot;</span><span class="markup">/&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:phase</span><span class="markup">&gt;</span><span class="text">COMPLETED</span><span class="markup">&lt;/</span><span class="end-tag">uws:phase</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:startTime</span><span class="markup">&gt;</span><span class="text">2009-05-19T17:12:48.038+01:00</span><span class="markup">&lt;/</span><span class="end-tag">uws:startTime</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:endTime</span><span class="markup">&gt;</span><span class="text">2009-05-19T17:12:48.041+01:00</span><span class="markup">&lt;/</span><span class="end-tag">uws:endTime</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:executionDuration</span><span class="markup">&gt;</span><span class="text">86400</span><span class="markup">&lt;/</span><span class="end-tag">uws:executionDuration</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:destruction</span><span class="markup">&gt;</span><span class="text">2009-05-29T17:12:48.035+01:00</span><span class="markup">&lt;/</span><span class="end-tag">uws:destruction</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">uws:parameters</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:parameter</span> <span class="attribute-name">id</span><span class="markup">=</span><span class="attribute-value">&quot;scaleFactor&quot;</span><span class="markup">&gt;</span><span class="text">1.8</span><span class="markup">&lt;/</span><span class="end-tag">uws:parameter</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:parameter</span> <span class="attribute-name">id</span><span class="markup">=</span><span class="attribute-value">&quot;image&quot;</span> <span class="attribute-name">byReference</span><span class="markup">=</span><span class="attribute-value">&quot;true&quot;</span><span class="markup">&gt;</span><span class="text">
         http://myserver.org/uws/jobs/jobid123/param/image</span><span class="markup">&lt;/</span><span class="end-tag">uws:parameter</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">uws:parameters</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">uws:results</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:result</span> <span class="attribute-name">id</span><span class="markup">=</span><span class="attribute-value">&quot;correctedImage&quot;</span> <span class="attribute-name">xlink:href</span><span class="markup">=</span><span class="attribute-value">&quot;http://myserver.org/uws/jobs/jobid123/result/image&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">uws:results</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">uws:errorSummary</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;transient&quot;</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:message</span><span class="markup">&gt;</span><span class="text">we have problem</span><span class="markup">&lt;/</span><span class="end-tag">uws:message</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">uws:detail</span> <span class="attribute-name">xlink:href</span><span class="markup">=</span><span class="attribute-value">&quot;http://myserver.org/uws/jobs/jobid123/error&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">uws:errorSummary</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">uws:jobInfo</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">any</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xml</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">thatyouwant</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xml</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">any</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">uws:jobInfo</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">uws:job</span><span class="markup">&gt;</span></div></div></div>
          <p>The <span class="xmlelement">&lt;job&gt;</span> element has placeholders of all of the standard UWS objects, and in addition there is a <span class="xmlelement">&lt;uws:jobinfo&gt;</span> element which can be used by implementations to include any extra information within the job description.</p>
        </div>
        <div class="section"><h4><a name="d1e1344" id="d1e1344"/><span class="secnum">2.2.2.3. </span>Results List</h4>
          <p>The representation of a Results List
            is a list of links to the resources representing the results. These
            resources may have any URI and any MIME type. A sensible default for
            their URIs is to make them children of /{jobs}/(job-id)/results, but
            this is not required. It may sometimes be easier for a service
            implementer to point to a resource on some web server separate from
            that running the UWS. Therefore, a client must always parse the
            Results List to find the results. Where a protocol applying UWS
            specifies standard results it must do so by naming those results; the
            names then appear in the Results List in addition to the URIs. Not
            all results need to be named; sometimes the meaning of the result is
            obvious from the context and the name is omitted.</p>
        </div>
                 <div class="section"><h4><a name="d1e1353" id="d1e1353"/><span class="secnum">2.2.2.4. </span>Parameters List</h4>
          The representation of the parameters list is a list of 
          <span class="xmlelement">&lt;parameter&gt;</span> elements. Each of these elements can either represent the value of the parameter directly, where the content of the element is a textual representation of the parameter, or in the case where the parameter value cannot be represented legally within XML (e.g. the parameter is a binary type such as a FITS file) then the content of the parameter is a URL to the parameter value - to indicate this case the attribute byReference is set to &quot;true&quot;.</div>
      </div>
      <div class="section"><h4><a name="d1e634" id="d1e634" shape="rect"/><span class="secnum">2.2.3. </span>State changing requests</h4>
        <p>Certain of the UWS' resources accept
          HTTP POST and DELETE messages to change the state of the service &#8211;
          This is the fundamental way that a client controls the execution of a
          job. In most of the cases where a job sub-object is set the response
          will have a http 303 &#8220;See other&#8221; status and a Location header
          that points back to the main job summary obtained at the <span style="font-weight: medium">/{jobs}/(job-id)
            URI. The job summary contains the values of (or links to) all the UWS objects
            within the returned XML (or XHTML). This mode of operation was chosen
            (as opposed to returning only the sub-object being altered) as it
            makes for a more natural user interface &#8211; especially in the case of
            the XHMTL interface. A client that wants to obtain only the value of
            a particular sub-object can at any time request that sub-object with
          a HTTP GET.</span></p>
        <div class="section"><h4><a name="d1e1375" id="d1e1375"/><span class="secnum">2.2.3.1. </span>Creating a Job</h4>
          <p>POSTing a request to the Job List
            creates a new job (unless the service rejects the request). The
            response when a job is accepted must have code 303 &#8220;See other&#8221;
            and the Location header of the response must point to the created
            job.</p>
          <p>This initial POST will in most cases
            carry parameters for the protocol that is using the UWS pattern, as
            detailed in <h:span xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" class="xref"><a href="#ApplicationsOfUWS">4. </a></h:span>.</p>
        </div>
        <div class="section"><h4><a name="d1e1390" id="d1e1390"/><span class="secnum">2.2.3.2. </span>Deleting a Job</h4>
          <p>Sending a HTTP DELETE to a Job
            resource destroys that job, with the meaning noted in the definition
            of the Job object, above. No other resource of the UWS may be
            directly deleted by the client. The response to this request must
            have code 303 &#8220;See other&#8221; and the Location header of the response
            must point to the Job List at the /{jobs} URI.</p>
          <p>Posting a request  with a parameter
            ACTION=DELETE to the Job also destroys the job, the response being as
            for a deletion. This action supports web browsers which typically
            cannot send DELETE requests.</p>
        </div>
        <div class="section"><h4><a name="d1e1402" id="d1e1402"/><span class="secnum">2.2.3.3. </span>Changing the Destruction
            Time</h4>
          <p>The Destruction Time may be changed
            by POSTing to  /{jobs}/(job-id)/destruction.  In this case, the body
            of the posted request is of type <i>application/x-www-form-urlencoded</i><b> </b><span style="font-weight: medium">and
              contains the parameter named DESTRUCTION whose value is the new
              destruction time in ISO8601 format; i.e. this request is what an HTML
            form sends.</span></p>
          <p style="font-weight: medium">The
            response to this request must have code 303 &#8220;See other&#8221; and the
            Location header of the response must point to the /{jobs}/(job-id)
            URI so that the client receives the value that the service has
            actually set the Destruction Time to within the Job summary response.</p>
        </div>
        <div class="section"><h4><a name="d1e1420" id="d1e1420"/><span class="secnum">2.2.3.4. </span>Changing the Execution
            Duration</h4>
          <p>The Execution Duration may be changed
            by POSTing to  /{jobs}/(job-id)/executionduration.  In this case, the body
            of the posted request is of type <i>application/x-www-form-urlencoded</i><b> </b><span style="font-weight: medium">and
              contains the parameter named EXECUTIONDURATION whose value is the new
            executionduration in seconds.</span></p>
          <p style="font-weight: medium">The
            response to this request must have code 303 &#8220;See other&#8221; and the
            Location header of the response must point to the
            /{jobs}/(job-id) so that the client receives the value that the
            service has actually set the Execution Duration to &#8211; the service is
            free to override the request if it needs.</p>
        </div>
        <div class="section"><h4><a name="d1e1439" id="d1e1439"/><span class="secnum">2.2.3.5. </span>        Starting a Job</h4>
          <p style="font-weight: medium">A
            job may be started by POSTing to the /{jobs}/(job-id)/phase URI. The
            POST contains a single parameter PHASE=RUN which instructs the UWS to
            attempt to start the job. The response to this request must have code
            303 &#8220;See other&#8221; and the Location header of the response must
            point to the /{jobs}/(job-id) URI so that the client receives the
            phase that the job has been set to. Typically a UWS will put a job
            into a QUEUED state on receipt of this command, but depending on how
            busy the server is, the job might be put almost immediately (and
            without client intervention) into an EXECUTING state.</p>
        </div>
        <div class="section"><h4><a name="d1e1448" id="d1e1448"/><span class="secnum">2.2.3.6. </span>Aborting a Job</h4>
          <p style="font-weight: medium">A
            job may be aborted by POSTing to the /{jobs}/(job-id)/phase URI. The
            POST contains a single parameter PHASE=ABORT which instructs the UWS
            to attempt to abort the job. Aborting a job has the effect of stopping a job executing, but the resources associated with a job remain intact. The response to this request must have
            code 303 &#8220;See other&#8221; and the Location header of the response must
            point to the /{jobs}/(job-id) URI so that the client receives the
            phase that the job has been set to.</p>
        </div>
      </div>
      <div class="section"><h4><a name="d1e708" id="d1e708" shape="rect"/><span class="secnum">2.2.4. </span>Message pattern</h4>
        <p>The REST binding results in the
          message pattern shown in figure 2.</p>
        <p><i>Illustration 2:
        Typical calling sequence for the REST binding of UWS</i></p>
        <p><img src="Sequence_Diagram__UWS__Rest_Message_Pattern__Rest_Message_Pattern__Rest_Message_Pattern.png" name="graphics3" width="985" height="512" border="0" align="left"  id="graphics3" alt="rest message pattern"/>          </p>
        <br style="clear: both;" />
      </div>
    </div>
    </div>
  <div class="section"><h2><a name="security" id="security" shape="rect"/><span class="secnum">3. </span>Security Considerations</h2>
    <p>A UWS should follow IVOA standards for security <cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:std:ssoauth">std:ssoauth</a>]
    </cite> if it is desired that a non-public UWS be created. It is possible to imagine many different authorization policies that might be employed in an authenticated UWS, where particular groups of users have different permissions to create and view different types of jobs. A full discussion of such authorization policies is beyond the scope of this document, but a UWS should behave as described in section <h:span xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" class="xref"><a href="#RESTbinding">2.2. </a></h:span> 
    for any individual authenticated user, although it is clear that a user without sufficient privileges might only obtain a restricted list of jobs within the joblist at /{jobs}. Any attempt to retrieve a job for which the user does not have sufficient privilege should result in a 403 Forbidden HTTP status being returned.</p>
    <p>When an authentication mechanism is used in the UWS then the implementation should set the owner object to the identity obtained by the authentication. </p>
  </div>
  <div class="section"><h2><a name="ApplicationsOfUWS" id="ApplicationsOfUWS" shape="rect"/><span class="secnum">4. </span> Applications of UWS (informative)</h2>
    <p>The UWS pattern leaves undefined two
      essential parts of the service contract: the content that must be
      posted to create a job; and the pattern of results made available by
      a completed job. An application of UWS completes a service contract
      by defining these matters.</p>
    <p>There follow some use cases applying
      the UWS pattern. The descriptions are neither formal nor complete.
      The intention is to show a range of ways that the pattern can be
      applied without burdening the reader with the level of detail needed
      for a standard implementation.</p>
    <p>Any of these cases could be worked up
      into a full IVOA standard by formalizing the description, adding
      detail and generally making the specification more
      exact and complete.</p>
    <div class="section"><h3><a name="Imageservice" id="Imageservice" shape="rect"/><span class="secnum">4.1. </span> Image service with data staging</h3>
      <p>Consider a service that computes
        images from archive data. The computation takes significant time, so
        the service is asynchronous. The service keeps the computed images in
        its own storage until the user downloads them; this is essentially
        the model of SIAP <cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:std:siap">std:siap</a>]
    </cite>.</p>
      <p>The asynchronous image-service is a
        logical extension of a synchronous SIA service. Therefore it uses the
        REST binding of UWS.</p>
      <p>The parameters for posting a new job
        are as for SIAP 1.0:</p>
      <ul><li>
          <p>POS, the position on the sky to
            be searched;</p>
      </li><li>
        <p>SIZE, the size of the search
          box;</p>
      </li><li>
        <p>FORMAT: the type of images to be
          computed.</p>
      </li></ul>
      <p>Particular implementations are free
        to add extra parameters.</p>
      <p>These parameters are posted in a
        document of type <i>application/x-www-form-urlencoded</i><span style="font-style: normal">:
        i.e. they can be sent from an HTML form.</span></p>
      <p style="font-style: normal">The
        images generated by the job are accessible as unnamed results. Each
        image has its own URI and can be downloaded over HTTP at any time
        until the destruction time of the job. The URIs for the images may be
        discovered from the Results List in the normal UWS way.</p>
      <p style="font-style: normal">SIAP
        1.0 produces, for each query, a table of metadata describing the
        images. The asynchronous image-service produces a table to the same
        schema as a named result, called &#8220;table&#8221;.</p>
      <p><span style="font-style: normal">Image
        results are added to the results list, and to the &#8220;table&#8221; result,
        as they are generated. Hence, a client that polls the service can
        discover, download and use some of the images before the job is
        finished. </span>If the client is satisfied with
        these early images, the client can cancel the rest of the job by
        destroying the job. However, destroying the job deletes the cached
        images so the client has to download them <i>first</i>.</p>
    </div>
    <div class="section"><h3><a name="ADQLservice" id="ADQLservice" shape="rect"/><span class="secnum">4.2. </span> ADQL service with cursor</h3>
      <p>ADQL [1] can serve as a JDL. Consider
        an ADQL service that supports long-running queries as asynchronous
        operations. In general, the results of the query may be a large set
        of data. They may be too large to download comfortably. We might like
        to cache these results on the service and to operate a cursor,
        drawing down from the resource a few rows of the table at a time.</p>
      <p>The parameters of a job are as
        follows:</p>
      <ul><li>
          <p>ADQL: the query text</p>
      </li><li>
        <p>FORMAT: the format for the
          results</p>
      </li></ul>
      <p>These parameters are posted in a
        document of type <i>application/x-www-form-urlencoded</i><span style="font-style: normal">:
        i.e. they can be sent from an HTML form.</span></p>
      <p style="font-style: normal">A
        successful query generates the following, named results.</p>
      <ul><li>
          <p style="font-style: normal"><i>table</i>:
            the whole result set as one file resource.</p>
      </li><li>
        <p style="font-style: normal"><i>header</i>:
          the metadata for the output table.</p>
      </li><li>
        <p style="font-style: normal"><i>cursor</i>:
          a selection of rows of output.</p>
      </li></ul>
      <p>The <i>cursor</i> result is
        parameterized by the query parameters FIRST and LAST in the query
        string of its URI: these parameters state the index of the first and
        last row to be returned; e.g.</p>
      <p> http://whatever.org/adlqService/results/cursor?FIRST=1&amp;LAST=100</p>
      <p>If the parameters are missing, the
        service decides which rows to emit.</p>
    </div>
    <div class="section"><h3><a name="ParameterizedApplications" id="ParameterizedApplications" shape="rect"/><span class="secnum">4.3. </span> Parameterized applications</h3>
      <p>There is a class of applications on
        which a job may be defined by a list of simple parameters. &#8220;Simple&#8221;
        here means unstructured: a scalar value such as a number, a string of
        text or a boolean value. If the parameters are allowed to name files,
        so that structured data are passed indirectly, then the class of
        applications is very large indeed: almost any non-interactive
        application can be driven in this way.</p>
      <p>Turning each application of choice
        into a service (with or without UWS semantics) would be onerous.
        However, if the application&#8217;s interface is entirely characterized,
        through the JDL, in terms of typed input and output parameters, then
        one service contract will work for all the applications and a single
        implementation of the contract can be reused for all cases.</p>
      <p>AstroGrid&#8217;s Common Execution
        Architecture (CEA) <cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:harrison05">harrison05</a>]
    </cite> works in this way. It has just one service
        contract for all applications (including ADQL services; the ADQL
        query is passed in the list of parameters). It has four
        implementations, one for each of the possible interfaces between the
        service and a kind of job (jobs can be implemented with Java classes,
        command-line applications, HTTP-get services or JDBC databases). CEA
        also specifies stateful, asynchronous services and makes use of
        VOSpace.</p>
      <p>Consider a CEA reworked to use the
        UWS pattern for consistency with other (future) IVOA standards. Call
        it CEA v2 to distinguish it from CEA v1 as currently maintained by
        AstroGrid. For this example, consider the particular kind of CEA
        service that runs applications supplied as executable binaries.</p>
      <p>A binary application-server has a
        library of applications co-located with its service and defined in
        the service configuration set by the service provider. It does not
        accept code from the client for local execution.</p>
      <p>The JDL in CEA v2 is similar to that
        in CEA v1 It is a formal, XML vocabulary for expressing choice
        of application and parameter lists <cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:std:vocea">std:voc ea</a>]
    </cite>. Parameters may be inputs or
        outputs of the job.</p>
      <p>To start a job, a document in this
        JDL is posted to the UWS. The document is sent in its native
        MIME-type, application/xml, so this is not an interface that can be
        driven directly from an HTML form, although it can be driven from the
        emerging XForms technology<cite>
    [<a xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" href="#ref:std:xform">std:xform</a>]
    </cite>.</p>
      <p>The results of the job depend on the
        choice of application. They are all named results and the names and
        types are defined in the definition of the application. That
        application-definition is registered, so the client knows before
        running the job what results to expect.</p>
      <p>CEA input-parameters may be indirect:
        i.e. they may refer to data in on-line storage. In this case, the JDL
        document contains the URIs for those data objects Alternatively, the
        parameters may be direct, in which case the JDL contains the actual
        value of the parameters.</p>
      <p>Similarly, CEA results may be made
        indirect. In this case, the results are named as parameters in the
        JDL where the values are the URIs to which the results are delivered.
        The application server can then stream the results to the specified
        destination as they become available and need not cache them locally.
        If a job result is indirect, then the server can choose whether or
        not to keep a local copy. If it chooses not to cache locally, then
        the result URI in the UWS is set to the external location named in
        the URI.</p>
    </div>
  </div>
  <div class="section"><h2><a name="SynchronousService" id="SynchronousService" shape="rect"/><span class="secnum">5. </span> Implementing a Synchronous Service on top of UWS (informative)</h2>
    <p>Whilst the provision of synchronous
      services is not one of the design aims of the UWS pattern, there is
      clearly a desire in second generation IVOA services  still to allow a
      simple synchronous calling pattern to be available to simple clients.
      What follows is a recommended recipe for putting a synchronous facade
      on UWS;</p>
    <p>It is assumed that the core of the
      service does provide a true UWS compliant set of endpoints rooted at
      /async (equivalent to the /{jobs} endpoint in the nomenclature used
      above). The desired synchronous service is to be rooted at /sync.</p>
    <ol><li>
        <p>The job is started by either a
          GET (for compatibility with existing IVOA standards) or a POST
          (preferably) of form encoded parameters to the /sync endpoint.</p>
    </li><li>
      <p>Internally the service creates a
        job in the standard UWS system with the given parameters and sets
        the PHASE to RUN, noting the returned job identifier which we will
        call {job-id}. The /sync endpoint then responds with a STATUS 303
        (redirection) response to the URL /sync/{job-id}.</p>
    </li><li>
      <p>The /sync/{job-id} endpoint then
        blocks until it detects that the underlying job has finished at
        which point it responds with a STATUS 303 (redirection) to the
        /{jobs}/{job-id}/results/mainresult URL, where &#8220;mainresult&#8221; is
        the name of the primary result of the job.</p>
    </li></ol>
    <p>In this way the service appears to be
      a synchronous to the original client &#8211; assuming it obeys standard
      HTTP redirection semantics, so a simple client like a web browser
      could obtain the result with a single &#8220;click&#8221;. At the same time a
      more sophisticated, UWS aware, client could control the same job from
      the standard /{jobs} endpoint &#8211; indeed if the synchronous call
      timed out for some reason, then it would be possible for the original
      client to retrieve the results by looking at the /{jobs}/{job-id} URL
      tree, because it could make the association of the job-Id from the
      URL it receives in step 2 above.</p>
    <p>The purely synchronous client is
      restricted compared with the full UWS pattern in that there can only
      be one result directly returned to the client, as noted in stage 3
      above. This is usually not a problem for compatibility with existing
      version 1.0 DAL services as they typically return a single VOTable
      containing references to the desired data.</p>
  </div>
 
<div class="appendices"><h2>Appendices</h2>

<div class="section"><h2><a name="Updates" id="Updates"/><span class="secnum">Appendix A. </span> Updates from previous versions</h2>
  <div class="section"><h3><a name="d1e1112" id="d1e1112"/><span class="secnum">Appendix A.1. </span>At Version 0.5</h3>
    <ul><li>
        <p>changed the POST parameter names
          to be the same as the resource paths.</p>
        </li><li>
          <p>added synchronous section.</p>
        </li><li>
          <p>updated SOAP binding section</p>
        </li></ul>
  </div>
  <div class="section"><h3><a name="d1e1775" id="d1e1775"/><span class="secnum">Appendix A.2. </span>At Version 1.0</h3>
  <ul>
   <li>Removed all SOAP binding - deferred to later version.</li>
   <li>Added parameterList</li>
   <li>Added ownerId and jobId as subsidiary job object</li>
  </ul>
  </div>
</div>

<div class="section"><h2><a name="UWSSchema" id="UWSSchema"/><span class="secnum">Appendix B. </span> UWS Schema</h2>
  <p>Note that this schema can be found on-line at <a href="http://www.ivoa.net/xml/UWS/1.0" shape="rect">http://www.ivoa.net/xml/UWS/v1.0</a> (i.e. the target namespace
can also be used as a URL for the schema.) This location should
represent the definitive source, the schema is reproduced below only for
completeness of this document.</p>
  <div><?incxml href="../UWS.xsd"?><div xmlns:h="http://www.w3.org/1999/xhtml" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" class="viewxml"><div class="comment">&lt;!-- $Id: UWS.xsd,v 1.1 2009/06/15 15:30:32 pah Exp $ --&gt;</div><div class="comment">&lt;!-- proposal for basic UWS schema - Paul Harrison May 2008 --&gt;</div><div class="comment"></div>
  <div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:schema</span> <span class="attribute-name">targetNamespace</span><span class="markup">=</span><span class="attribute-value">&quot;http://www.ivoa.net/xml/UWS/v1.0rc3&quot;</span> <span class="attribute-name">elementFormDefault</span><span class="markup">=</span><span class="attribute-value">&quot;qualified&quot;</span> <span class="attribute-name">attributeFormDefault</span><span class="markup">=</span><span class="attribute-value">&quot;unqualified&quot;</span> <span class="attribute-name">xlmns:xml</span><span class="markup">=</span><span class="attribute-value">&quot;http://www.w3.org/XML/1998/namespace&quot;</span> <span class="attribute-name">xlmns:xs</span><span class="markup">=</span><span class="attribute-value">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> <span class="attribute-name">xlmns:uws</span><span class="markup">=</span><span class="attribute-value">&quot;http://www.ivoa.net/xml/UWS/v1.0rc3&quot;</span> <span class="attribute-name">xlmns:xlink</span><span class="markup">=</span><span class="attribute-value">&quot;http://www.w3.org/1999/xlink&quot;</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:import</span> <span class="attribute-name">namespace</span><span class="markup">=</span><span class="attribute-value">&quot;http://www.w3.org/1999/xlink&quot;</span> <span class="attribute-name">schemaLocation</span><span class="markup">=</span><span class="attribute-value">&quot;http://software.astrogrid.org/schema/stc/STC/v1.30/XLINK.xsd&quot;</span><span class="markup">/&gt;</span></div><div class="comment">&lt;!--
      &lt;xs:import namespace=&quot;http://www.w3.org/1999/xlink&quot;
      schemaLocation=&quot;http://www.ivoa.net/xml/Xlink/xlink.xsd&quot;/&gt;
   --&gt;</div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:complexType</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;ShortJobDescription&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:sequence</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;phase&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;uws:ExecutionPhase&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> the execution phase - returned at
                  /(jobs)/(jobid)/phase</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:sequence</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:attribute</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;id&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;uws:JobIdentifier&quot;</span> <span class="attribute-name">use</span><span class="markup">=</span><span class="attribute-value">&quot;required&quot;</span><span class="markup">/&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:attributeGroup</span> <span class="attribute-name">ref</span><span class="markup">=</span><span class="attribute-value">&quot;uws:reference&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:complexType</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:attributeGroup</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;reference&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text">standard xlink references
         </span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:attribute</span> <span class="attribute-name">ref</span><span class="markup">=</span><span class="attribute-value">&quot;xlink:type&quot;</span> <span class="attribute-name">use</span><span class="markup">=</span><span class="attribute-value">&quot;optional&quot;</span> <span class="attribute-name">default</span><span class="markup">=</span><span class="attribute-value">&quot;simple&quot;</span><span class="markup">/&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:attribute</span> <span class="attribute-name">ref</span><span class="markup">=</span><span class="attribute-value">&quot;xlink:href&quot;</span> <span class="attribute-name">use</span><span class="markup">=</span><span class="attribute-value">&quot;optional&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:attributeGroup</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:simpleType</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;ExecutionPhase&quot;</span><span class="markup">&gt;</span><div class="comment">&lt;!--
         need to think a little here about the implication of allowing a
         &quot;re-entrant&quot; application that is capable of running
         mini-jobs...probably this is indicated with a different state
         varible entirely
      --&gt;</div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> Enumeration of possible phases of job
            execution</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:restriction</span> <span class="attribute-name">base</span><span class="markup">=</span><span class="attribute-value">&quot;xs:string&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:enumeration</span> <span class="attribute-name">value</span><span class="markup">=</span><span class="attribute-value">&quot;PENDING&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> The first phase a job is entered into
                  - this is where a job is being set up but no request
                  to run has occurred.</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:enumeration</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:enumeration</span> <span class="attribute-name">value</span><span class="markup">=</span><span class="attribute-value">&quot;QUEUED&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> An job has been accepted for execution
                  but is waiting in a queue</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:enumeration</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:enumeration</span> <span class="attribute-name">value</span><span class="markup">=</span><span class="attribute-value">&quot;EXECUTING&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text">An job is running</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:enumeration</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:enumeration</span> <span class="attribute-name">value</span><span class="markup">=</span><span class="attribute-value">&quot;COMPLETED&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> An job has completed successfully
               </span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:enumeration</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:enumeration</span> <span class="attribute-name">value</span><span class="markup">=</span><span class="attribute-value">&quot;ERROR&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> Some form of error has occurred
               </span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:enumeration</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:enumeration</span> <span class="attribute-name">value</span><span class="markup">=</span><span class="attribute-value">&quot;UNKNOWN&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> The job is in an unknown state
               </span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:enumeration</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:enumeration</span> <span class="attribute-name">value</span><span class="markup">=</span><span class="attribute-value">&quot;HELD&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> The job is HELD pending execution and
                  will not automatically be executed (cf pending)
               </span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:enumeration</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:enumeration</span> <span class="attribute-name">value</span><span class="markup">=</span><span class="attribute-value">&quot;SUSPENDED&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> The job has been suspended by the
                  system during execution</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:enumeration</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:enumeration</span> <span class="attribute-name">value</span><span class="markup">=</span><span class="attribute-value">&quot;ABORTED&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> The job has been aborted, either by
                  user request or by the server because of lack or
                  overuse of resources.</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:enumeration</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:restriction</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:simpleType</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:complexType</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;JobSummary&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text">The complete representation of the state
            of a job</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:sequence</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;jobId&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;uws:JobIdentifier&quot;</span><span class="markup">/&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;runId&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:string&quot;</span> <span class="attribute-name">maxOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;1&quot;</span> <span class="attribute-name">minOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;0&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> this is a client supplied identifier -
                  the UWS system does nothing other than to return it as
                  part of the description of the job</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;ownerId&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:string&quot;</span> <span class="attribute-name">nillable</span><span class="markup">=</span><span class="attribute-value">&quot;true&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text">the owner (creator) of the job -
                  this should be expressed as a string that can be
                  parsed in accordance with IVOA security standards. If
                  there was no authenticated job creator then this
                  should be set to NULL.</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;phase&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;uws:ExecutionPhase&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> the execution phase - returned at
                  /(jobs)/(jobid)/phase</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;quote&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:dateTime&quot;</span> <span class="attribute-name">nillable</span><span class="markup">=</span><span class="attribute-value">&quot;true&quot;</span> <span class="attribute-name">maxOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;1&quot;</span> <span class="attribute-name">minOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;0&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> A Quote predicts when the job is likely to complete - returned at /(jobs)/(jobid)/quote
                  &quot;don't know&quot; is encoded by setting to the XML null value xsi:nil=&quot;true&quot;</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;startTime&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:dateTime&quot;</span> <span class="attribute-name">nillable</span><span class="markup">=</span><span class="attribute-value">&quot;true&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text">The instant at which the job started execution.</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;endTime&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:dateTime&quot;</span> <span class="attribute-name">nillable</span><span class="markup">=</span><span class="attribute-value">&quot;true&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text">The instant at which the job finished execution</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;executionDuration&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:int&quot;</span> <span class="attribute-name">nillable</span><span class="markup">=</span><span class="attribute-value">&quot;false&quot;</span><span class="markup">&gt;</span><div class="comment">&lt;!-- TODO look if xs:duration here has any benefits --&gt;</div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> The duration (in seconds) for which
                  the job should be allowed to run - a value of 0 is
                  intended to mean unlimited - returned at
                  /(jobs)/(jobid)/executionduration</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;destruction&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:dateTime&quot;</span> <span class="attribute-name">nillable</span><span class="markup">=</span><span class="attribute-value">&quot;true&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> The time at which the whole job +
                  records + results will be destroyed. returned at
                  /(jobs)/(jobid)/destruction</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">ref</span><span class="markup">=</span><span class="attribute-value">&quot;uws:parameters&quot;</span> <span class="attribute-name">maxOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;1&quot;</span> <span class="attribute-name">minOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;0&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text">The parameters to the job (where appropriate)
can also be retrieved at /(jobs)/(jobid)/parameters</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">ref</span><span class="markup">=</span><span class="attribute-value">&quot;uws:results&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text">The results for the job - can also be retrieved at /(jobs)/(jobid)/results</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;errorSummary&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;uws:ErrorSummary&quot;</span> <span class="attribute-name">maxOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;1&quot;</span> <span class="attribute-name">minOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;0&quot;</span><span class="markup">&gt;</span><span class="text">
         </span><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;jobInfo&quot;</span> <span class="attribute-name">maxOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;1&quot;</span> <span class="attribute-name">minOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;0&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> This is arbitrary information that can
                  be added to the job description by the UWS
                  implementation.</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:complexType</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:sequence</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:any</span> <span class="attribute-name">namespace</span><span class="markup">=</span><span class="attribute-value">&quot;##any&quot;</span> <span class="attribute-name">processContents</span><span class="markup">=</span><span class="attribute-value">&quot;lax&quot;</span> <span class="attribute-name">minOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;0&quot;</span> <span class="attribute-name">maxOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;unbounded&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:sequence</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:complexType</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:sequence</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:complexType</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:simpleType</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;JobIdentifier&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> The identifier for the job
         </span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:restriction</span> <span class="attribute-name">base</span><span class="markup">=</span><span class="attribute-value">&quot;xs:string&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:simpleType</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;job&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;uws:JobSummary&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> This is the information that is returned
            when a GET is made for a single job resource - i.e.
            /(jobs)/(jobid)</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;jobs&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> The list of job references returned at
            /(jobs)</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:complexType</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> ISSUE - do we want to have any sort of
               paging or selection mechanism in case the job list gets
               very large? Or is that an unnecessary complication...
            </span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:sequence</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;jobref&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;uws:ShortJobDescription&quot;</span> <span class="attribute-name">maxOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;unbounded&quot;</span> <span class="attribute-name">minOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;0&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:sequence</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:complexType</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:complexType</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;ResultReference&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> A reference to a UWS result
         </span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:sequence</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;phase&quot;</span> <span class="attribute-name">maxOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;1&quot;</span> <span class="attribute-name">minOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;0&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;uws:ExecutionPhase&quot;</span><span class="markup">/&gt;</span></div><div class="comment">&lt;!--
            pah - TODO why is this here - there was a use case to do
            with picking up results of partially finished jobs ?
         --&gt;</div><span class="markup">&lt;/</span><span class="end-tag">xs:sequence</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:attribute</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;id&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:string&quot;</span> <span class="attribute-name">use</span><span class="markup">=</span><span class="attribute-value">&quot;required&quot;</span><span class="markup">/&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:attributeGroup</span> <span class="attribute-name">ref</span><span class="markup">=</span><span class="attribute-value">&quot;uws:reference&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:complexType</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;results&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> The element returned for
            /(jobs)/(jobid)/results</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:complexType</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:sequence</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;result&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;uws:ResultReference&quot;</span> <span class="attribute-name">maxOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;unbounded&quot;</span> <span class="attribute-name">minOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;0&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:sequence</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:complexType</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:complexType</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;ErrorSummary&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> A short summary of an error - a fuller representation of the error may be retrieved from /(jobs)/(jobid)/error
         </span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:sequence</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;message&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:string&quot;</span><span class="markup">/&gt;</span></div><div class="comment">&lt;!-- is this detail redundant if we say that the &quot;detailed message&quot; is always available from /(jobs)/(jobid)/error--&gt;</div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;detail&quot;</span> <span class="attribute-name">maxOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;1&quot;</span> <span class="attribute-name">minOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;0&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:complexType</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:attributeGroup</span> <span class="attribute-name">ref</span><span class="markup">=</span><span class="attribute-value">&quot;uws:reference&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:complexType</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:sequence</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:attribute</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;type&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;uws:ErrorType&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text">characterization of the
               type of the error</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:attribute</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:complexType</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:simpleType</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;ErrorType&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:restriction</span> <span class="attribute-name">base</span><span class="markup">=</span><span class="attribute-value">&quot;xs:string&quot;</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:enumeration</span> <span class="attribute-name">value</span><span class="markup">=</span><span class="attribute-value">&quot;transient&quot;</span><span class="markup">/&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:enumeration</span> <span class="attribute-name">value</span><span class="markup">=</span><span class="attribute-value">&quot;fatal&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:restriction</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:simpleType</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:complexType</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;Parameter&quot;</span> <span class="attribute-name">mixed</span><span class="markup">=</span><span class="attribute-value">&quot;true&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> the list of input parameters to the job - if
            the job description language does not naturally have
            parameters, then this list should contain one element which
            is the content of the original POST that created the job.
         </span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:attribute</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;byReference&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:boolean&quot;</span> <span class="attribute-name">default</span><span class="markup">=</span><span class="attribute-value">&quot;false&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> if this attribute is true then the
               content of the parameter represents a URL to retrieve the
               actual parameter value.</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> It is up to the implementation to decide
               if a parameter value cannot be returned directly as the
               content - the basic rule is that the representation of
               the parameter must allow the whole job element to be
               valid XML. If this cannot be achieved then the parameter
               value must be returned by reference.</span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:attribute</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:attribute</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;id&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:string&quot;</span> <span class="attribute-name">use</span><span class="markup">=</span><span class="attribute-value">&quot;required&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:annotation</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:documentation</span><span class="markup">&gt;</span><span class="text"> the identifier for the parameter
            </span><span class="markup">&lt;/</span><span class="end-tag">xs:documentation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:annotation</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:attribute</span><span class="markup">&gt;</span></div><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:attribute</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;isPost&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;xs:boolean&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:complexType</span><span class="markup">&gt;</span></div><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;parameters&quot;</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:complexType</span><span class="markup">&gt;</span><div class="element"><span class="markup">&lt;</span><span class="start-tag">xs:sequence</span><span class="markup">&gt;</span><div class="indent"><span class="markup">&lt;</span><span class="start-tag">xs:element</span> <span class="attribute-name">name</span><span class="markup">=</span><span class="attribute-value">&quot;parameter&quot;</span> <span class="attribute-name">type</span><span class="markup">=</span><span class="attribute-value">&quot;uws:Parameter&quot;</span> <span class="attribute-name">maxOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;unbounded&quot;</span> <span class="attribute-name">minOccurs</span><span class="markup">=</span><span class="attribute-value">&quot;0&quot;</span><span class="markup">/&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:sequence</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:complexType</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:element</span><span class="markup">&gt;</span></div><span class="markup">&lt;/</span><span class="end-tag">xs:schema</span><span class="markup">&gt;</span></div><div class="comment">&lt;!--

 --&gt;</div></div></div>
</div>
</div>
<div class="section-nonum'"><h2><a name="References" id="References"/>References</h2>
 <div>
 <?bibliography ivoadoc/refs.bib ?> 


<dl><dt><a name="std:xform" id="std:xform">[std:xform] John M. Boyer, editor.</a></dt> <dd>
  <a href="http://www.w3.org/TR/xforms11/" >Xforms 1.1</a>, 2007.
</dd>

<dt><a name="std:soap" id="std:soap">[std:soap] Don Box, David Ehnebuske, Gopal Kakivaya,
  Andrew Layman, Noah Mendelsohn, Henrik Frystyk Nielsen, Satish Thatte, and
  Dave Winer.</a></dt> <dd>
  <a href="http://www.w3.org/TR/2000/NOTE-SOAP-20000508/" >Simple object access
  protocol (soap) 1.1</a>, 2000.
</dd>

<dt><a name="fielding00" id="fielding00">[fielding00] Roy Thomas Fielding.</a></dt> <dd>
  <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm"
  ><em>Architectural Styles and the Design of Network-based Software
  Architectures</em></a>.
  PhD thesis, University of California, Irvine, 2000.
</dd>

<dt><a name="std:iso8601" id="std:iso8601">[std:iso8601] ISO 8601:2004 Data elements and interchange formats - Information interchange - Representation of dates and times</a></dt> <dd>
  International Organization for
                  Standardization, 2004.
</dd>

<dt><a name="std:ssoauth" id="std:ssoauth">[std:ssoauth] {Grid and Web Services Working Group},
  Guy Rixon and Matthew Graham, editors.</a></dt> <dd>
  <a href="http://www.ivoa.net/Documents/latest/SSOAuthMech.html" >Ivoa
  single-sign-on profile: Authentication mechanisms version 1.01</a>, 2008.
</dd>

<dt><a name="harrison05" id="harrison05">[harrison05] P. Harrison.</a></dt> <dd>
  <a href="http://www.ivoa.net/Documents/latest/CEA.html" >A proposal for a
  common execution architecture</a>.
  {IVOA Note}, May 2005.
</dd>

<dt><a name="std:vocea" id="std:vocea">[std:vocea] Paul Harrison.</a></dt> 
<dd>
  VOCEA - an xml schema for registering cea.</dd>

<dt><a name="sextractor" id="sextractor">[sextractor]
  http://astromatic.iap.fr/software/sextractor/.</a></dt> <dd>
  <a href="http://astromatic.iap.fr/software/sextractor/" >Sextractor</a>.
  [Online].
</dd>

<dt><a name="std:adql" id="std:adql">[std:adql] Iaki Ortiz, Jeff Lusted, Pat Dowler,
  Alexander Szalay, Yuji Shirasaki, Maria A. Nieto-Santisteba, Masatoshi
  Ohishi, William OMullane, Pedro Osuna, the VOQL-TEG, and the VOQL
  Working Group, Pedro Osuna and Iaki Ortiz, editors.</a></dt> <dd>
  <a href="http://www.ivoa.net/Documents/latest/ConeSearch.html" >Ivoa
  astronomical data query language</a>.
  {IVOA Recommendation}, 2008.
</dd>

<dt><a name="std:siap" id="std:siap">[std:siap] Doug Tody and Ray Plant, Paul Harrison,
  editor.</a></dt> <dd>
  <a href="http://www.ivoa.net/Documents/latest/SIA.html" >Simple image access
  specification</a>.
  {IVOA Recommendation}, 2009.
</dd>

<dt><a name="std:scs" id="std:scs">[std:scs] Roy Williams, Robert Hanisch, Alex Szalay, and
  Raymond Plante, Raymond Plante, editor.</a></dt> <dd>
  <a href="http://www.ivoa.net/Documents/latest/ConeSearch.html" >Simple cone
  search</a>.
  {IVOA Recommendation}, 2008.
</dd>
</dl></div>
</div>
</div>
<p style="text-align: right; font-size: x-small; color: #888;">
$Revision: 847 $ $Date: 2008-10-29 14:33:57 +0000 (Wed, 29. Oct 2008) $</p>
</body></html>